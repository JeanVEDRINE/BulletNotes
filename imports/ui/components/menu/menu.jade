template(name="menu")
  span.mdl-layout-title BulletNotes.io
  if ready
    nav.mdl-navigation
      if hideUndoButton
        button#undo.mdl-button.mdl-js-button.mdl-button--fab.mdl-js-ripple-effect.mdl-button--colored
          i.material-icons undo
        .mdl-tooltip.mdl-tooltip--large(for='undo')
          | {{action undo}}

      if hideRedoButton
        button#redo.mdl-button.mdl-js-button.mdl-button--fab.mdl-js-ripple-effect.mdl-button--colored
          i.material-icons redo
        .mdl-tooltip.mdl-tooltip--large(for='redo')
          | {{action redo}}

      if currentUser
        button#userMenu.mdl-button.mdl-js-button
          i.material-icons account_box
          | {{displayName}}
        div.mdl-menu.mdl-menu--bottom-left.mdl-js-menu.mdl-js-ripple-effect(for='userMenu')
          a.mdl-menu__item.mdl-menu__item--full-bleed-divider(href='/settings') {{_ 'layouts.appBody.settings'}}
          a.mdl-menu__item.js-logout {{_ 'layouts.appBody.logout'}}

        button#recentMenu.mdl-button.mdl-js-button
          i.material-icons timer
          | {{_ 'layouts.appBody.recent'}}
        div.mdl-menu.mdl-menu--bottom-left.mdl-js-menu.mdl-js-ripple-effect(for='recentMenu')
          a.mdl-menu__item.recentLink(href='/search/last-changed%3a1h') {{_ 'layouts.appBody.lastHour'}}
          a.mdl-menu__item.recentLink(href='/search/last-changed%3a24h') {{_ 'layouts.appBody.lastDay'}}
          a.mdl-menu__item.recentLink(href='/search/not-viewed%3a1M') {{_ 'layouts.appBody.oldItems'}}
      else
        .btns-group
          a.btn-secondary(href="{{pathFor 'signin'}}")
            | {{_ 'layouts.appBody.login'}}
          a.btn-secondary(href="{{pathFor 'join'}}")
            | {{_ 'layouts.appBody.join'}}
    span.mdl-layout-title {{_ 'layouts.appBody.favorites'}}
    nav.mdl-navigation
      if notes.count
        each note in notes
          a.favoriteNote.mdl-navigation__link(href="{{pathFor 'Notes.show' noteId=note._id}}", class='{{activeNoteClass note}}', data-count="{{increment @index}}")
            | {{emoji note.title}}
            span.hotkeyHint {{increment @index}}
      else
        p(style="margin: 1em;color:white;")
          | No favorites yet, click the
          span.glyphicon.glyphicon-heart(style="font-size: .8em; margin: 0 .2em")
          | icon on some notes to the right.
